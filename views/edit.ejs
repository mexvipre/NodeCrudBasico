<%- include('./partials/header') %>

<!-- Contenedor centrado -->
<div class="container mt-5">
  <div class="columns is-centered">
    <div class="column is-two-thirds-tablet is-half-desktop">
      <h1 class="title has-text-centered">Editar Pasajero</h1>

      <!-- Formulario para editar el pasajero -->
      <form id="edit-form" action="/editar/<%= pasajero.id_pasajero %>" method="POST">

        <!-- Fila de 3 columnas -->
        <div class="columns is-multiline">
          <!-- Nombre -->
          <div class="column is-one-third">
            <div class="field">
              <label class="label">Nombre del Pasajero</label>
              <div class="control">
                <input class="input is-medium" type="text" name="nombre" value="<%= pasajero.nombre %>" required>
              </div>
            </div>
          </div>

          <!-- DNI -->
          <div class="column is-one-third">
            <div class="field">
              <label class="label">DNI</label>
              <div class="control">
                <input class="input is-medium" type="text" name="dni" value="<%= pasajero.dni %>" required>
              </div>
            </div>
          </div>

          <!-- Teléfono -->
          <div class="column is-one-third">
            <div class="field">
              <label class="label">Teléfono</label>
              <div class="control">
                <input class="input is-medium" type="text" name="telefono" value="<%= pasajero.telefono %>" required>
              </div>
            </div>
          </div>
        </div>

        <!-- Dirección -->
        <div class="field">
          <label class="label">Dirección</label>
          <div class="control">
            <input class="input is-medium" type="text" name="direccion" value="<%= pasajero.direccion %>" required>
          </div>
        </div>

        <!-- Email -->
        <div class="field">
          <label class="label">Correo Electrónico</label>
          <div class="control">
            <input class="input is-medium" type="email" name="email" value="<%= pasajero.email %>" required>
          </div>
        </div>

        <!-- Botón -->
        <div class="field">
          <div class="control">
            <button class="button is-primary is-fullwidth" type="submit">Guardar Cambios</button>
          </div>
        </div>

      </form>
    </div>
  </div>
</div>

<%- include('./partials/footer') %>

<!-- SweetAlert2 script -->
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
  // Escuchar el evento de envío del formulario
  const form = document.getElementById('edit-form');
  form.addEventListener('submit', function(event) {
    event.preventDefault(); // Evitar el envío inmediato del formulario
    
    // Mostrar SweetAlert2 de confirmación con animación personalizada usando Animate.css
    Swal.fire({
      title: '¿Estás seguro?',
      text: '¡Estás a punto de actualizar los datos de este pasajero!',
      icon: 'warning',
      showCancelButton: true,
      confirmButtonText: 'Sí, actualizar',
      cancelButtonText: 'Cancelar',
      // Animación de entrada utilizando Animate.css
      showClass: {
        popup: 'animate__animated animate__zoomIn', // Usamos el efecto de zoom al aparecer
      },
      hideClass: {
        popup: 'animate__animated animate__fadeOut', // Desaparece con un efecto de desvanecimiento
      }
    }).then((result) => {
      if (result.isConfirmed) {
        // Si el usuario confirma, enviamos el formulario
        form.submit();
      }
    });
  });
</script>
